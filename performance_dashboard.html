<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cycling Performance Dashboard - Template</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e1e2e 0%, #2d2d44 100%);
            color: #e0e0e0;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            padding: 40px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            color: white;
        }

        .subtitle {
            font-size: 1.2em;
            opacity: 0.95;
            color: white;
        }

        .athlete-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(135deg, #4a4a6a 0%, #3a3a5a 100%);
            padding: 25px;
            border-radius: 12px;
            border-left: 5px solid;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .stat-card.ftp { border-left-color: #ffd700; }
        .stat-card.weight { border-left-color: #4ecdc4; }
        .stat-card.age { border-left-color: #95e1d3; }
        .stat-card.hr { border-left-color: #ff6b6b; }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #ffffff;
        }

        .stat-unit {
            font-size: 0.8em;
            opacity: 0.7;
            margin-left: 5px;
        }

        .ftp-zones {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .ftp-zone-title {
            grid-column: 1 / -1;
            font-size: 1.4em;
            font-weight: bold;
            color: #ffffff;
            border-bottom: 2px solid #4a9eff;
            padding-bottom: 10px;
            margin-bottom: 10px;
        }

        .ftp-zone-subtitle {
            grid-column: 1 / -1;
            font-size: 0.95em;
            opacity: 0.8;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .zone-card {
            background: linear-gradient(135deg, #3a3a5a 0%, #2d2d44 100%);
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid;
            text-align: center;
            transition: transform 0.2s;
        }

        .zone-card:hover {
            transform: translateY(-3px);
        }

        .zone-card.z1 { border-left-color: #95e1d3; }
        .zone-card.z2 { border-left-color: #4ecdc4; }
        .zone-card.z3 { border-left-color: #ffd700; }
        .zone-card.z4 { border-left-color: #ff6b6b; }
        .zone-card.z5 { border-left-color: #ee5a6f; }

        .zone-name {
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .zone-range {
            font-size: 0.85em;
            opacity: 0.7;
            margin-bottom: 12px;
        }

        .zone-count {
            font-size: 2.5em;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 5px;
        }

        .zone-label {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .alert-box {
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 30px;
            border-left: 6px solid;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .alert-critical {
            background: linear-gradient(135deg, #8b0000 0%, #660000 100%);
            border-left-color: #ff4444;
        }

        .alert-warning {
            background: linear-gradient(135deg, #b8860b 0%, #8b6914 100%);
            border-left-color: #ffd700;
        }

        .alert-success {
            background: linear-gradient(135deg, #006400 0%, #004d00 100%);
            border-left-color: #00ff00;
        }

        .alert-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .chart-container {
            background: linear-gradient(135deg, #3a3a5a 0%, #2d2d44 100%);
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
        }

        .chart-title {
            font-size: 1.3em;
            margin-bottom: 20px;
            color: #ffffff;
            border-bottom: 2px solid #ff6b6b;
            padding-bottom: 10px;
        }

        .metric-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
        }

        .metric-item {
            display: flex;
            justify-content: space-between;
            padding: 8px;
        }

        .metric-change {
            font-weight: bold;
        }

        .metric-change.positive { color: #4ade80; }
        .metric-change.negative { color: #ff4444; }

        footer {
            text-align: center;
            padding: 30px;
            opacity: 0.6;
            margin-top: 50px;
        }

        @media (max-width: 768px) {
            .chart-grid {
                grid-template-columns: 1fr;
            }
            h1 {
                font-size: 1.8em;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 id="dashboardTitle">üö¥ Cycling Performance Dashboard</h1>
            <div class="subtitle" id="dashboardSubtitle">Analysis Period</div>
        </header>

        <!-- Navigation Links -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; padding: 15px; background: linear-gradient(135deg, #3a3a5a 0%, #2d2d44 100%); border-radius: 10px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);">
            <a href="index.html" style="color: #4a9eff; text-decoration: none; font-size: 1.1em; display: flex; align-items: center; gap: 8px;">
                ‚Üê Back to Summary
            </a>
            <a href="coaching_report.html" style="color: #4a9eff; text-decoration: none; font-size: 1.1em; display: flex; align-items: center; gap: 8px;">
                View Coaching Report ‚Üí
            </a>
        </div>

        <!-- Athlete Statistics -->
        <div class="athlete-stats">
            <div class="stat-card ftp">
                <div class="stat-label">Functional Threshold Power</div>
                <div class="stat-value" id="ftpValue">255<span class="stat-unit">W</span></div>
                <div class="stat-label" id="ftpPerKg">3.04 W/kg</div>
            </div>
            <div class="stat-card weight">
                <div class="stat-label">Weight</div>
                <div class="stat-value" id="weightValue">84<span class="stat-unit">kg</span></div>
            </div>
            <div class="stat-card age">
                <div class="stat-label">Age</div>
                <div class="stat-value" id="ageValue">51<span class="stat-unit">years</span></div>
            </div>
            <div class="stat-card hr">
                <div class="stat-label">Max Heart Rate</div>
                <div class="stat-value" id="maxHrValue">169<span class="stat-unit">bpm</span></div>
            </div>
        </div>

        <!-- FTP Zones Distribution -->
        <div class="ftp-zones" id="ftpZonesContainer">
            <div class="ftp-zone-title">‚ö° Training Intensity Zones (Last 6 Months)</div>
            <div class="ftp-zone-subtitle" id="ftpZonesSubtitle"></div>
            <!-- Zone cards will be populated by JavaScript -->
        </div>

        <!-- Alerts Section -->
        <div id="alertsContainer"></div>

        <!-- Performance Comparison -->
        <div class="chart-grid">
            <div class="chart-container">
                <div class="chart-title">üìä Period Comparison: Last 6M vs Previous 12M (Weekly Averages)</div>
                <canvas id="periodComparisonChart"></canvas>
                <div class="metric-comparison" id="metricComparison"></div>
            </div>

            <div class="chart-container">
                <div class="chart-title">‚ö° Power Zones Distribution (Actual Time-in-Zone)</div>
                <canvas id="powerZonesChart"></canvas>
                <div id="powerZonesInsight" style="margin-top: 15px; padding: 15px; background: rgba(255,215,0,0.1); border-radius: 8px;"></div>
            </div>
        </div>

        <div class="chart-grid">
            <div class="chart-container">
                <div class="chart-title">‚ù§Ô∏è Heart Rate Zones Distribution</div>
                <canvas id="hrZonesChart"></canvas>
            </div>

            <div class="chart-container">
                <div class="chart-title">üö¥ Ride Type Breakdown</div>
                <canvas id="rideTypesChart"></canvas>
                <div id="rideTypesInsight" style="margin-top: 15px; font-size: 0.95em; line-height: 1.6;"></div>
            </div>
        </div>

        <div class="chart-grid">
            <div class="chart-container">
                <div class="chart-title">üìÖ Monthly Volume Progression</div>
                <canvas id="monthlyVolumeChart"></canvas>
            </div>

            <div class="chart-container">
                <div class="chart-title">üìà Top 5 Power Performances</div>
                <canvas id="topPowerChart"></canvas>
                <div id="topPowerInsight" style="margin-top: 15px; font-size: 0.9em; opacity: 0.8;"></div>
            </div>
        </div>

        <!-- Weekly Rides Chart -->
        <div style="margin-bottom: 30px;">
            <div class="chart-container">
                <div class="chart-title">üìä Weekly Ride Frequency - Outdoor vs Indoor</div>
                <canvas id="weeklyRidesChart" style="max-height: 400px;"></canvas>
                <div id="weeklyRidesInsight" style="margin-top: 15px; padding: 15px; background: rgba(74, 158, 255, 0.1); border-radius: 8px;"></div>
            </div>
        </div>

        <!-- 12-Week Progressive Training Plan -->
        <!-- This section will be populated if trainingPlan data is provided in the DATA object -->
        <div id="trainingPlanContainer"></div>

        <footer id="dashboardFooter">
            <p>Dashboard generated from performance data</p>
        </footer>
    </div>

    <script>
        // ============================================================================
        // DATA CONFIGURATION
        // ============================================================================
        //
        // INSTRUCTIONS FOR POPULATING THIS TEMPLATE:
        //
        // 1. Update the DASHBOARD_CONFIG section with athlete profile and metadata
        // 2. Update the PERIOD_COMPARISON section with recent vs previous period stats
        // 3. Update the POWER_ZONES section with zone distribution percentages
        // 4. Update the HR_ZONES section with heart rate zone distribution
        // 5. Update the RIDE_TYPES section with ride classification counts
        // 6. Update the MONTHLY_DATA section with month-by-month progression
        // 7. Update the TOP_PERFORMANCES section with best power rides
        // 8. Update the WEEKLY_RIDES section with weekly frequency data
        // 9. Update the ALERTS section with key insights and recommendations
        //
        // All data should come from your cycling performance analysis tools.
        // ============================================================================

        const DATA = {
            // DASHBOARD CONFIGURATION
            // Basic athlete information and analysis period
            dashboard: {
                athleteName: "Athlete",              // Athlete's full name
                analysisStartDate: "April 2025",          // Start of analysis period
                analysisEndDate: "October 2025",          // End of analysis period
                generatedDate: "October 16, 2025",        // Date dashboard was generated
                totalActivities: 115,                      // Total activities in dataset
                cyclingActivities: 416,                    // Total cycling activities
                recentPeriodActivities: 115,               // Activities in recent period
                outdoorRides: 45,                          // Outdoor rides in recent period
                indoorRides: 70                            // Indoor rides in recent period
            },

            // ATHLETE PROFILE
            // Core athlete metrics and physiological data
            athlete: {
                ftp: 255,           // Functional Threshold Power in watts
                weight: 84,         // Weight in kilograms
                age: 51,            // Age in years
                maxHr: 169          // Maximum heart rate in bpm
            },

            // PERIOD COMPARISON DATA
            // Compare recent period (e.g., last 6 months ‚âà 26 weeks) vs previous period (e.g., previous 12 months ‚âà 52 weeks)
            // Data shown as WEEKLY AVERAGES for fair comparison
            periodComparison: {
                recent: {
                    weeks: 26,            // Number of weeks in recent period
                    ridesPerWeek: 4.4,    // Average rides per week (115 rides / 26 weeks)
                    distancePerWeek: 187, // Average km per week (4872 km / 26 weeks)
                    timePerWeek: 6.5,     // Average hours per week (169 hrs / 26 weeks)
                    elevationPerWeek: 1599, // Average elevation per week (41568 m / 26 weeks)
                    avgPower: 171,        // Average power in watts (already an average)
                    avgHr: 131            // Average heart rate in bpm (already an average)
                },
                previous: {
                    weeks: 52,            // Number of weeks in previous period
                    ridesPerWeek: 4.3,    // Average rides per week (224 rides / 52 weeks)
                    distancePerWeek: 166, // Average km per week (8657 km / 52 weeks)
                    timePerWeek: 6.3,     // Average hours per week (330 hrs / 52 weeks)
                    elevationPerWeek: 1697, // Average elevation per week (88240 m / 52 weeks)
                    avgPower: 166,        // Average power in watts (already an average)
                    avgHr: 130            // Average heart rate in bpm (already an average)
                },
                trends: {
                    distance: "+12.6%",   // Weekly distance change (include + or - sign)
                    power: "+2.7%",       // Power change
                    hr: "+1.0%",          // Heart rate change
                    frequency: "+2.3%"    // Rides per week change (4.4 vs 4.3)
                }
            },

            // POWER ZONES DISTRIBUTION
            // ACTUAL TIME-IN-ZONE from .fit file analysis (second-by-second power data)
            // This is much more accurate than ride averages which include warm-up/cool-down
            // Z1: 0-60% FTP (Active Recovery)
            // Z2: 60-80% FTP (Endurance)
            // Z3: 80-90% FTP (Tempo)
            // Z4: 90-110% FTP (Threshold)
            // Z5: >110% FTP (VO2 Max)
            powerZones: {
                z1: 25.7,    // Percentage of time in Z1 (Active Recovery)
                z2: 58.1,    // Percentage of time in Z2 (Endurance)
                z3: 8.1,     // Percentage of time in Z3 (Tempo)
                z4: 5.7,     // Percentage of time in Z4 (Threshold)
                z5: 2.5,     // Percentage of time in Z5 (VO2 Max)
                insight: "83.8% easy (Z1-Z2), 8.1% hard (Z4-Z5). Good balance but aim for 15-20% in Z4-Z5 for optimal gains."
            },

            // FTP ZONES TIME-IN-ZONE DATA
            // Actual time spent in each zone from .fit file analysis
            // This replaces ride counts with actual time analysis
            ftpZones: {
                z1Percent: 25.7,       // Percentage of time in Z1 (0-60% FTP)
                z1Hours: 22.1,         // Hours in Z1
                z2Percent: 58.1,       // Percentage of time in Z2 (60-80% FTP)
                z2Hours: 50.0,         // Hours in Z2
                z3Percent: 8.1,        // Percentage of time in Z3 (80-90% FTP)
                z3Hours: 6.9,          // Hours in Z3
                z4Percent: 5.7,        // Percentage of time in Z4 (90-110% FTP)
                z4Hours: 4.9,          // Hours in Z4
                z5Percent: 2.5,        // Percentage of time in Z5 (>110% FTP)
                z5Hours: 2.1,          // Hours in Z5
                totalHours: 86.0,      // Total hours analyzed
                totalFiles: 70         // Total .fit files with power data
            },

            // HEART RATE ZONES DISTRIBUTION
            // Percentage of rides in each HR zone based on max HR
            // Z1: <70% max HR
            // Z2: 70-80% max HR
            // Z3: 80-90% max HR
            // Z4: 90-100% max HR
            hrZones: {
                z1: 6.1,     // Percentage <70% max HR
                z2: 67.8,    // Percentage 70-80% max HR
                z3: 26.1,    // Percentage 80-90% max HR
                z4: 0.0      // Percentage 90-100% max HR
            },

            // RIDE TYPE BREAKDOWN
            // Classification of rides by intensity and duration
            rideTypes: {
                endurance: 40,      // Endurance rides (>40km, <75% FTP)
                tempo: 4,           // Tempo rides (75-90% FTP)
                threshold: 0,       // Threshold rides (90-105% FTP)
                highIntensity: 0,   // High intensity rides (>105% FTP)
                insight: "40 endurance rides show strong base, but 0 threshold and 0 high-intensity rides mean you're not training race-specific fitness."
            },

            // MONTHLY PROGRESSION DATA
            // Month-by-month breakdown of volume and rides
            // Arrays should have same length, one entry per month
            monthlyData: {
                labels: ['April 2025', 'May 2025', 'June 2025', 'July 2025', 'August 2025', 'September 2025', 'October 2025'],
                distance: [838.0, 756.0, 811.5, 628.6, 969.9, 869.4, 480.7],    // Distance in km per month
                rides: [19, 17, 22, 15, 22, 20, 11]                              // Number of rides per month
            },

            // TOP POWER PERFORMANCES
            // Best 5 rides by average power
            // Format: 'YYYY-MM-DD: Ride Name'
            topPerformances: {
                labels: [
                    '2024-12-20\nSSCC Crits #8',
                    '2024-11-15\nSSCC Crits #3',
                    '2025-01-31\nSSCC Crits #2',
                    '2025-09-12\nStanny Loop',
                    '2025-10-01\nTempo Ride'
                ],
                avgPower: [236, 222, 215, 205, 204],          // Average power for each ride
                normalizedPower: [263, 249, 249, 226, 193],   // Normalized power for each ride
                insight: "Last race was January 2025 (215W). 8 months without race-level intensity."
            },

            // WEEKLY RIDE FREQUENCY
            // Week-by-week breakdown of outdoor vs indoor rides
            // Arrays should have same length, one entry per week
            weeklyRides: {
                weeks: ['2025-04-14', '2025-04-21', '2025-04-28', '2025-05-05', '2025-05-12', '2025-05-19',
                        '2025-05-26', '2025-06-02', '2025-06-09', '2025-06-16', '2025-06-23', '2025-06-30',
                        '2025-07-14', '2025-07-21', '2025-07-28', '2025-08-04', '2025-08-11', '2025-08-18',
                        '2025-08-25', '2025-09-01', '2025-09-08', '2025-09-15', '2025-09-22', '2025-09-29',
                        '2025-10-06', '2025-10-13'],
                outdoor: [1, 0, 3, 3, 0, 0, 1, 0, 2, 2, 1, 3, 3, 1, 0, 3, 2, 1, 2, 2, 2, 2, 2, 3, 4, 2],
                indoor: [0, 4, 3, 2, 4, 4, 1, 5, 3, 3, 4, 1, 2, 3, 3, 4, 3, 4, 3, 3, 2, 3, 3, 2, 1, 0],
                insight: "Consistency shows 26 weeks of activity. Mix of outdoor (45 rides) and indoor (70 rides) totaling 115 rides. Average: 4.4 rides/week."
            },

            // ALERTS AND KEY INSIGHTS
            // Important findings and recommendations
            alerts: [
                {
                    type: 'warning',  // 'critical', 'warning', or 'success'
                    title: '‚ö†Ô∏è Room for Improvement: Intensity Distribution',
                    message: '<strong>Polarization Analysis:</strong> 83.8% easy (Z1-Z2), 8.1% moderate (Z3), 8.1% hard (Z4-Z5). This is reasonably balanced but could be optimized. For performance gains, aim for 75-80% easy and 15-20% hard work. You currently have 8.1% in hard zones (4.9 hrs Z4 + 2.1 hrs Z5) - doubling this to 15-20% would significantly boost FTP. The good news: you\'re doing <strong>some</strong> intensity work, just need more volume at threshold and VO2 max.'
                },
                {
                    type: 'success',
                    title: '‚úÖ Strengths: Consistency is Your Superpower',
                    message: '<strong>Excellent endurance foundation:</strong> 115 rides in 6 months (4.5/week including indoor), 12 long rides >80km, +12.6% volume increase, +2.7% power improvement, improving aerobic efficiency (+1% HR at higher power). Consistency score: 28.7% (good stability).'
                }
            ],

            // TRAINING PLAN (OPTIONAL)
            // 12-week progressive training plan generated by the generate-training-plan MCP tool
            // Set enabled: true to display the training plan section
            trainingPlan: {
                enabled: true,               // Set to true to show training plan
                currentFtp: 255,             // Current FTP in watts
                targetFtp: 270,              // Target FTP in watts
                trainingDays: 5,             // Days per week available for training
                totalWeeks: 12,              // Duration of plan in weeks
                ageGroup: '50+',             // Age group for recovery recommendations ('50+', '40+', or 'under 40')

                // Power zones (calculated from currentFtp)
                zones: {
                    z1: '0-153W',
                    z2: '153-204W',
                    z3: '204-229W',
                    z4: '229-280W',
                    z5: '>280W',
                    sweetSpot: '224-237W'
                },

                // Training phases with week-by-week details
                phases: [
                    {
                        name: 'Foundation',
                        weeks: '1-3',
                        emoji: 'üèóÔ∏è',
                        color: '#4ade80',
                        focus: 'Build aerobic base + introduce threshold work (2x15-20 @ 229-242W)',
                        schedule: [
                            { day: 'Monday', workout: 'Rest', details: null },
                            { day: 'Tuesday', workout: 'Threshold', details: '2x15-20 @ 229-242W (5 min recovery)' },
                            { day: 'Wednesday', workout: 'Endurance', details: '60 min Z2 (153-204W)' },
                            { day: 'Thursday', workout: 'Tempo', details: '3x15 @ 204-229W (5 min recovery)' },
                            { day: 'Friday', workout: 'Rest', details: null },
                            { day: 'Saturday', workout: 'Long Endurance', details: '3.2-3.6 hrs Z2 with 3x5 min tempo bursts' },
                            { day: 'Sunday', workout: 'Recovery Ride', details: '60 min Z1-Z2, very easy' }
                        ]
                    },
                    {
                        name: 'Recovery',
                        weeks: '4',
                        emoji: 'üòå',
                        color: '#ffd700',
                        focus: 'Reduce volume and intensity to absorb training',
                        schedule: [
                            { day: 'Tuesday', workout: 'Easy Endurance', details: '60 min Z2, conversational pace' },
                            { day: 'Thursday', workout: 'Sweet Spot', details: '2x10 @ 224-237W' },
                            { day: 'Saturday', workout: 'Medium Endurance', details: '2.5 hrs Z2 with 3x5 min tempo' },
                            { day: 'Other days', workout: 'Rest', details: null }
                        ]
                    },
                    {
                        name: 'Build',
                        weeks: '5-7',
                        emoji: 'üí™',
                        color: '#ff6b6b',
                        focus: 'Add VO2 max work (5x5 @ 280W) + increase endurance volume',
                        schedule: [
                            { day: 'Monday', workout: 'Rest', details: null },
                            { day: 'Tuesday', workout: 'Threshold', details: '2x20 @ 229-242W' },
                            { day: 'Wednesday', workout: 'Endurance + Tempo', details: '75 min mostly Z2 with 2x10 @ 204-229W' },
                            { day: 'Thursday', workout: 'VO2 Max', details: '5x5 @ 280W (5 min recovery between)' },
                            { day: 'Friday', workout: 'Rest', details: null },
                            { day: 'Saturday', workout: 'Long Endurance', details: '3.5-3.9 hrs Z2 with 3x10 tempo or 3x5 threshold' },
                            { day: 'Sunday', workout: 'Sweet Spot', details: '3x15 @ 224-237W' }
                        ]
                    },
                    {
                        name: 'Recovery',
                        weeks: '8',
                        emoji: 'üòå',
                        color: '#ffd700',
                        focus: 'Second recovery week before peak phase',
                        schedule: [
                            { day: 'Tuesday', workout: 'Easy Endurance', details: '60 min Z2' },
                            { day: 'Thursday', workout: 'Sweet Spot', details: '2x10 @ 224-237W' },
                            { day: 'Saturday', workout: 'Medium Endurance', details: '2.5 hrs Z2' },
                            { day: 'Other days', workout: 'Rest', details: null }
                        ]
                    },
                    {
                        name: 'Peak',
                        weeks: '9-12',
                        emoji: 'üèîÔ∏è',
                        color: '#ee5a6f',
                        focus: 'Race simulations + high intensity VO2 (6x5 @ 270-280W)',
                        schedule: [
                            { day: 'Monday', workout: 'Rest', details: null },
                            { day: 'Tuesday', workout: 'Threshold', details: '2x20 @ 242-255W (higher power!)' },
                            { day: 'Wednesday', workout: 'Endurance + Bursts', details: '90 min Z2 with 5x3 min @ threshold' },
                            { day: 'Thursday', workout: 'High Intensity VO2', details: '6x5 @ 270-280W (4 min recovery)' },
                            { day: 'Friday', workout: 'Rest', details: 'prepare for weekend' },
                            { day: 'Saturday', workout: 'Race Simulation', details: '2.5 hrs with race-like efforts (3x15 @ threshold)' },
                            { day: 'Sunday', workout: 'Active Recovery', details: '90 min Z1-Z2, very easy' }
                        ]
                    }
                ]
            }
        };

        // ============================================================================
        // CHART RENDERING CODE
        // ============================================================================
        // You don't need to modify anything below this line unless customizing styles
        // ============================================================================

        // Populate dashboard header and athlete info
        document.getElementById('dashboardTitle').textContent = `üö¥ ${DATA.dashboard.athleteName} - Cycling Performance Dashboard`;
        document.getElementById('dashboardSubtitle').textContent = `Analysis Period: ${DATA.dashboard.analysisStartDate} - ${DATA.dashboard.analysisEndDate} | Generated: ${DATA.dashboard.generatedDate}`;
        document.getElementById('ftpValue').innerHTML = `${DATA.athlete.ftp}<span class="stat-unit">W</span>`;
        document.getElementById('ftpPerKg').textContent = `${(DATA.athlete.ftp / DATA.athlete.weight).toFixed(2)} W/kg`;
        document.getElementById('weightValue').innerHTML = `${DATA.athlete.weight}<span class="stat-unit">kg</span>`;
        document.getElementById('ageValue').innerHTML = `${DATA.athlete.age}<span class="stat-unit">years</span>`;
        document.getElementById('maxHrValue').innerHTML = `${DATA.athlete.maxHr}<span class="stat-unit">bpm</span>`;

        // Populate FTP Zones
        const ftpZonesContainer = document.getElementById('ftpZonesContainer');
        const z1Range = `0-${Math.round(DATA.athlete.ftp * 0.6)}W`;
        const z2Range = `${Math.round(DATA.athlete.ftp * 0.6)}-${Math.round(DATA.athlete.ftp * 0.8)}W`;
        const z3Range = `${Math.round(DATA.athlete.ftp * 0.8)}-${Math.round(DATA.athlete.ftp * 0.9)}W`;
        const z4Range = `${Math.round(DATA.athlete.ftp * 0.9)}-${Math.round(DATA.athlete.ftp * 1.1)}W`;
        const z5Range = `>${Math.round(DATA.athlete.ftp * 1.1)}W`;

        document.getElementById('ftpZonesSubtitle').innerHTML = `
            <strong>Actual Time-in-Zone Analysis:</strong> Based on second-by-second power data from .fit files (not ride averages).
            Your FTP is ${DATA.athlete.ftp}W. Total: ${DATA.ftpZones.totalHours} hours analyzed from ${DATA.ftpZones.totalFiles} files with power data.
        `;

        const zonesHTML = `
            <div class="zone-card z1">
                <div class="zone-name">Z1: Active Recovery</div>
                <div class="zone-range">0-60% FTP<br>(${z1Range})</div>
                <div class="zone-count">${DATA.ftpZones.z1Percent}%</div>
                <div class="zone-label">${DATA.ftpZones.z1Hours} hrs</div>
            </div>
            <div class="zone-card z2">
                <div class="zone-name">Z2: Endurance</div>
                <div class="zone-range">60-80% FTP<br>(${z2Range})</div>
                <div class="zone-count">${DATA.ftpZones.z2Percent}%</div>
                <div class="zone-label">${DATA.ftpZones.z2Hours} hrs</div>
            </div>
            <div class="zone-card z3">
                <div class="zone-name">Z3: Tempo</div>
                <div class="zone-range">80-90% FTP<br>(${z3Range})</div>
                <div class="zone-count">${DATA.ftpZones.z3Percent}%</div>
                <div class="zone-label">${DATA.ftpZones.z3Hours} hrs</div>
            </div>
            <div class="zone-card z4">
                <div class="zone-name">Z4: Threshold</div>
                <div class="zone-range">90-110% FTP<br>(${z4Range})</div>
                <div class="zone-count">${DATA.ftpZones.z4Percent}%</div>
                <div class="zone-label">${DATA.ftpZones.z4Hours} hrs</div>
            </div>
            <div class="zone-card z5">
                <div class="zone-name">Z5: VO2 Max</div>
                <div class="zone-range">>110% FTP<br>(${z5Range})</div>
                <div class="zone-count">${DATA.ftpZones.z5Percent}%</div>
                <div class="zone-label">${DATA.ftpZones.z5Hours} hrs</div>
            </div>
        `;
        ftpZonesContainer.insertAdjacentHTML('beforeend', zonesHTML);

        // Populate alerts
        const alertsContainer = document.getElementById('alertsContainer');
        DATA.alerts.forEach(alert => {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert-box alert-${alert.type}`;
            alertDiv.innerHTML = `
                <div class="alert-title">${alert.title}</div>
                <p style="font-size: 1.1em; line-height: 1.6;">${alert.message}</p>
            `;
            alertsContainer.appendChild(alertDiv);
        });

        // Populate metric comparison
        document.getElementById('metricComparison').innerHTML = `
            <div class="metric-item">
                <span>Weekly Distance:</span>
                <span class="metric-change ${DATA.periodComparison.trends.distance.startsWith('+') ? 'positive' : 'negative'}">${DATA.periodComparison.trends.distance}</span>
            </div>
            <div class="metric-item">
                <span>Average Power:</span>
                <span class="metric-change ${DATA.periodComparison.trends.power.startsWith('+') ? 'positive' : 'negative'}">${DATA.periodComparison.trends.power}</span>
            </div>
            <div class="metric-item">
                <span>Average HR:</span>
                <span class="metric-change ${DATA.periodComparison.trends.hr.startsWith('+') ? 'positive' : 'negative'}">${DATA.periodComparison.trends.hr}</span>
            </div>
            <div class="metric-item">
                <span>Rides per Week:</span>
                <span class="metric-change ${DATA.periodComparison.trends.frequency.startsWith('+') ? 'positive' : 'negative'}">${DATA.periodComparison.trends.frequency}</span>
            </div>
        `;

        // Populate insights
        document.getElementById('powerZonesInsight').innerHTML = `<strong style="color: #ffd700;">üí° Analysis:</strong> ${DATA.powerZones.insight}`;
        document.getElementById('rideTypesInsight').innerHTML = `<strong>Analysis:</strong> ${DATA.rideTypes.insight}`;
        document.getElementById('topPowerInsight').textContent = DATA.topPerformances.insight;
        document.getElementById('weeklyRidesInsight').innerHTML = `<strong style="color: #4a9eff;">üí° Insight:</strong> ${DATA.weeklyRides.insight}`;

        // Populate footer
        document.getElementById('dashboardFooter').innerHTML = `
            <div style="margin-bottom: 20px;">
                <a href="index.html" style="color: #4a9eff; text-decoration: none; margin: 0 15px;">‚Üê Back to Summary</a>
                <a href="coaching_report.html" style="color: #4a9eff; text-decoration: none; margin: 0 15px;">View Coaching Report ‚Üí</a>
            </div>
            <p>Dashboard generated from cached performance data (${DATA.dashboard.totalActivities} total activities, ${DATA.dashboard.cyclingActivities} cycling activities)</p>
            <p>Recent period: ${DATA.dashboard.recentPeriodActivities} cycling activities (${DATA.dashboard.outdoorRides} outdoor + ${DATA.dashboard.indoorRides} indoor)</p>
            <p>Analysis date: ${DATA.dashboard.generatedDate}</p>
        `;

        // Populate Training Plan (if enabled)
        if (DATA.trainingPlan && DATA.trainingPlan.enabled) {
            const plan = DATA.trainingPlan;
            const ftpGain = plan.targetFtp - plan.currentFtp;
            const ftpGainPercent = ((ftpGain / plan.currentFtp) * 100).toFixed(1);

            let recoveryNote = '';
            if (plan.ageGroup === '50+') {
                recoveryNote = '‚ö†Ô∏è <strong>Age 50+ Recovery:</strong> 48-72 hours between hard sessions. Never back-to-back intensity days.';
            } else if (plan.ageGroup === '40+') {
                recoveryNote = '‚ö†Ô∏è <strong>Age 40+ Recovery:</strong> 48 hours between hard sessions. Monitor recovery carefully.';
            } else {
                recoveryNote = 'üí° Allow 36-48 hours between hard sessions.';
            }

            let planHTML = `
                <div style="background: linear-gradient(135deg, #4a2d7c 0%, #371e5f 100%); padding: 30px; border-radius: 12px; margin-bottom: 30px; border-left: 6px solid #a855f7; box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);">
                    <div style="font-size: 1.5em; margin-bottom: 20px; color: #a855f7;">üìã ${plan.totalWeeks}-Week Progressive Training Plan (${plan.currentFtp}W ‚Üí ${plan.targetFtp}W)</div>

                    <div style="margin-bottom: 25px; font-size: 1.05em; line-height: 1.7;">
                        <strong>Generated for:</strong> ${plan.trainingDays} training days per week | Age ${plan.ageGroup} recovery considerations<br>
                        <strong>Goal:</strong> Build from ${plan.currentFtp}W FTP to ${plan.targetFtp}W (+${ftpGain}W, +${ftpGainPercent}%) over ${plan.totalWeeks} weeks<br>
                        <strong>Phases:</strong> Foundation ‚Üí Build ‚Üí Recovery ‚Üí Peak with strategic recovery weeks
                    </div>

                    <div style="background: rgba(255,255,255,0.08); padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                        <strong style="color: #a855f7; font-size: 1.1em;">‚ö° Your Power Zones</strong>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px; margin-top: 10px;">
                            <div><strong>Z1:</strong> ${plan.zones.z1}</div>
                            <div><strong>Z2:</strong> ${plan.zones.z2}</div>
                            <div><strong>Z3:</strong> ${plan.zones.z3}</div>
                            <div><strong>Z4:</strong> ${plan.zones.z4}</div>
                            <div><strong>Z5:</strong> ${plan.zones.z5}</div>
                            <div><strong>Sweet Spot:</strong> ${plan.zones.sweetSpot}</div>
                        </div>
                        <p style="margin-top: 15px; color: #ffa500;">${recoveryNote}</p>
                    </div>
            `;

            // Add each phase as a collapsible section
            plan.phases.forEach(phase => {
                planHTML += `
                    <details style="margin-bottom: 15px; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px; border-left: 4px solid ${phase.color};">
                        <summary style="cursor: pointer; font-size: 1.1em; font-weight: bold; color: ${phase.color};">üìÖ Weeks ${phase.weeks}: ${phase.emoji} ${phase.name} Phase</summary>
                        <div style="margin-top: 15px; padding-left: 15px;">
                            <p><strong>Focus:</strong> ${phase.focus}</p>
                            <ul style="line-height: 1.8; margin-top: 10px;">
                `;

                phase.schedule.forEach(workout => {
                    if (workout.details) {
                        planHTML += `<li><strong>${workout.day}:</strong> ${workout.workout} - ${workout.details}</li>`;
                    } else {
                        planHTML += `<li><strong>${workout.day}:</strong> ${workout.workout}</li>`;
                    }
                });

                planHTML += `
                            </ul>
                        </div>
                    </details>
                `;
            });

            // Add monitoring and summary sections
            planHTML += `
                    <div style="background: rgba(255,68,68,0.15); padding: 20px; border-radius: 10px; margin-top: 20px; border: 2px solid #ff4444;">
                        <strong style="color: #ff4444; font-size: 1.1em;">üö® Weekly Monitoring & Red Flags</strong>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px; margin-top: 15px;">
                            <div>
                                <strong style="color: #4ade80;">‚úÖ Track Weekly:</strong>
                                <ul style="margin-top: 8px; line-height: 1.6;">
                                    <li>Training load (total hours)</li>
                                    <li>Intensity distribution (% in zones)</li>
                                    <li>Morning resting heart rate (¬±10%)</li>
                                    <li>Sleep quality and motivation</li>
                                </ul>
                            </div>
                            <div>
                                <strong style="color: #ff4444;">üõë Stop if You Experience:</strong>
                                <ul style="margin-top: 8px; line-height: 1.6;">
                                    <li>Elevated resting HR for 3+ days</li>
                                    <li>Unable to complete prescribed intervals</li>
                                    <li>Persistent pain or illness</li>
                                    <li>Sleep disruption or loss of motivation</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 20px; padding: 15px; background: rgba(74,158,255,0.1); border-radius: 8px;">
                        <strong style="color: #4a9eff;">üí° Plan Summary:</strong> This ${plan.totalWeeks}-week plan builds aerobic base (Z2), introduces threshold power to raise FTP, adds VO2 max work to increase ceiling, includes recovery weeks to prevent burnout, and peaks for target events. Expected FTP gain: <strong>${ftpGain}W (+${ftpGainPercent}%)</strong>
                    </div>
                </div>
            `;

            document.getElementById('trainingPlanContainer').innerHTML = planHTML;
        }

        // Chart.js default settings
        Chart.defaults.color = '#e0e0e0';
        Chart.defaults.borderColor = 'rgba(255, 255, 255, 0.1)';

        // Period Comparison Chart - Weekly Averages
        const periodCtx = document.getElementById('periodComparisonChart').getContext('2d');
        new Chart(periodCtx, {
            type: 'bar',
            data: {
                labels: ['Rides/week', 'Distance/week (km)', 'Time/week (hrs)', 'Elevation/week (m)', 'Avg Power (W)', 'Avg HR (bpm)'],
                datasets: [{
                    label: `Recent Period (${DATA.periodComparison.recent.weeks} weeks)`,
                    data: [
                        DATA.periodComparison.recent.ridesPerWeek,
                        DATA.periodComparison.recent.distancePerWeek,
                        DATA.periodComparison.recent.timePerWeek,
                        DATA.periodComparison.recent.elevationPerWeek,
                        DATA.periodComparison.recent.avgPower,
                        DATA.periodComparison.recent.avgHr
                    ],
                    backgroundColor: 'rgba(255, 107, 107, 0.8)',
                    borderColor: 'rgba(255, 107, 107, 1)',
                    borderWidth: 2
                }, {
                    label: `Previous Period (${DATA.periodComparison.previous.weeks} weeks)`,
                    data: [
                        DATA.periodComparison.previous.ridesPerWeek,
                        DATA.periodComparison.previous.distancePerWeek,
                        DATA.periodComparison.previous.timePerWeek,
                        DATA.periodComparison.previous.elevationPerWeek,
                        DATA.periodComparison.previous.avgPower,
                        DATA.periodComparison.previous.avgHr
                    ],
                    backgroundColor: 'rgba(74, 158, 255, 0.8)',
                    borderColor: 'rgba(74, 158, 255, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: { display: true }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Power Zones Chart
        const powerZonesCtx = document.getElementById('powerZonesChart').getContext('2d');
        new Chart(powerZonesCtx, {
            type: 'doughnut',
            data: {
                labels: ['Z1 (Active Recovery)', 'Z2 (Endurance)', 'Z3 (Tempo)', 'Z4 (Threshold)', 'Z5 (VO2 Max)'],
                datasets: [{
                    data: [DATA.powerZones.z1, DATA.powerZones.z2, DATA.powerZones.z3, DATA.powerZones.z4, DATA.powerZones.z5],
                    backgroundColor: [
                        'rgba(149, 225, 211, 0.8)',
                        'rgba(78, 205, 196, 0.8)',
                        'rgba(255, 215, 0, 0.8)',
                        'rgba(255, 107, 107, 0.8)',
                        'rgba(238, 90, 111, 0.8)'
                    ],
                    borderColor: [
                        'rgba(149, 225, 211, 1)',
                        'rgba(78, 205, 196, 1)',
                        'rgba(255, 215, 0, 1)',
                        'rgba(255, 107, 107, 1)',
                        'rgba(238, 90, 111, 1)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: { padding: 15 }
                    }
                }
            }
        });

        // HR Zones Chart
        const hrZonesCtx = document.getElementById('hrZonesChart').getContext('2d');
        new Chart(hrZonesCtx, {
            type: 'polarArea',
            data: {
                labels: ['Z1 (<70%)', 'Z2 (70-80%)', 'Z3 (80-90%)', 'Z4 (90-100%)'],
                datasets: [{
                    data: [DATA.hrZones.z1, DATA.hrZones.z2, DATA.hrZones.z3, DATA.hrZones.z4],
                    backgroundColor: [
                        'rgba(149, 225, 211, 0.7)',
                        'rgba(78, 205, 196, 0.7)',
                        'rgba(255, 215, 0, 0.7)',
                        'rgba(255, 107, 107, 0.7)'
                    ],
                    borderColor: [
                        'rgba(149, 225, 211, 1)',
                        'rgba(78, 205, 196, 1)',
                        'rgba(255, 215, 0, 1)',
                        'rgba(255, 107, 107, 1)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: { padding: 10 }
                    }
                },
                scales: {
                    r: {
                        ticks: { display: false },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    }
                }
            }
        });

        // Ride Types Chart
        const rideTypesCtx = document.getElementById('rideTypesChart').getContext('2d');
        new Chart(rideTypesCtx, {
            type: 'bar',
            data: {
                labels: ['Endurance\n(>40km, <75% FTP)', 'Tempo\n(75-90% FTP)', 'Threshold\n(90-105% FTP)', 'High Intensity\n(>105% FTP)'],
                datasets: [{
                    label: 'Number of Rides',
                    data: [DATA.rideTypes.endurance, DATA.rideTypes.tempo, DATA.rideTypes.threshold, DATA.rideTypes.highIntensity],
                    backgroundColor: [
                        'rgba(78, 205, 196, 0.8)',
                        'rgba(255, 215, 0, 0.8)',
                        'rgba(255, 107, 107, 0.8)',
                        'rgba(238, 90, 111, 0.8)'
                    ],
                    borderColor: [
                        'rgba(78, 205, 196, 1)',
                        'rgba(255, 215, 0, 1)',
                        'rgba(255, 107, 107, 1)',
                        'rgba(238, 90, 111, 1)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: { display: true, text: 'Rides' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Monthly Volume Chart
        const monthlyVolumeCtx = document.getElementById('monthlyVolumeChart').getContext('2d');
        new Chart(monthlyVolumeCtx, {
            type: 'line',
            data: {
                labels: DATA.monthlyData.labels,
                datasets: [{
                    label: 'Distance (km)',
                    data: DATA.monthlyData.distance,
                    borderColor: 'rgba(255, 107, 107, 1)',
                    backgroundColor: 'rgba(255, 107, 107, 0.2)',
                    tension: 0.4,
                    fill: true,
                    borderWidth: 3
                }, {
                    label: 'Rides',
                    data: DATA.monthlyData.rides,
                    borderColor: 'rgba(74, 158, 255, 1)',
                    backgroundColor: 'rgba(74, 158, 255, 0.2)',
                    tension: 0.4,
                    fill: true,
                    borderWidth: 3,
                    yAxisID: 'y1'
                }]
            },
            options: {
                responsive: true,
                interaction: {
                    mode: 'index',
                    intersect: false,
                },
                plugins: {
                    legend: { display: true }
                },
                scales: {
                    y: {
                        type: 'linear',
                        display: true,
                        position: 'left',
                        title: { display: true, text: 'Distance (km)' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    },
                    y1: {
                        type: 'linear',
                        display: true,
                        position: 'right',
                        title: { display: true, text: 'Rides' },
                        grid: { drawOnChartArea: false }
                    },
                    x: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Top Power Performances Chart
        const topPowerCtx = document.getElementById('topPowerChart').getContext('2d');
        new Chart(topPowerCtx, {
            type: 'bar',
            data: {
                labels: DATA.topPerformances.labels,
                datasets: [{
                    label: 'Average Power (W)',
                    data: DATA.topPerformances.avgPower,
                    backgroundColor: 'rgba(255, 215, 0, 0.8)',
                    borderColor: 'rgba(255, 215, 0, 1)',
                    borderWidth: 2
                }, {
                    label: 'Normalized Power (W)',
                    data: DATA.topPerformances.normalizedPower,
                    backgroundColor: 'rgba(255, 107, 107, 0.8)',
                    borderColor: 'rgba(255, 107, 107, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                indexAxis: 'y',
                plugins: {
                    legend: { display: true }
                },
                scales: {
                    x: {
                        beginAtZero: true,
                        title: { display: true, text: 'Power (W)' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' }
                    },
                    y: {
                        grid: { display: false }
                    }
                }
            }
        });

        // Weekly Rides Chart (Stacked Bar)
        const weeklyRidesCtx = document.getElementById('weeklyRidesChart').getContext('2d');
        new Chart(weeklyRidesCtx, {
            type: 'bar',
            data: {
                labels: DATA.weeklyRides.weeks,
                datasets: [{
                    label: 'Outdoor Rides',
                    data: DATA.weeklyRides.outdoor,
                    backgroundColor: 'rgba(78, 205, 196, 0.8)',
                    borderColor: 'rgba(78, 205, 196, 1)',
                    borderWidth: 2
                }, {
                    label: 'Indoor Rides',
                    data: DATA.weeklyRides.indoor,
                    backgroundColor: 'rgba(255, 107, 107, 0.8)',
                    borderColor: 'rgba(255, 107, 107, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: true,
                plugins: {
                    legend: {
                        display: true,
                        position: 'top'
                    },
                    tooltip: {
                        callbacks: {
                            footer: function(context) {
                                let total = 0;
                                context.forEach(item => {
                                    total += item.parsed.y;
                                });
                                return 'Total: ' + total + ' rides';
                            }
                        }
                    }
                },
                scales: {
                    x: {
                        stacked: true,
                        grid: { display: false },
                        ticks: {
                            maxRotation: 45,
                            minRotation: 45,
                            font: { size: 9 }
                        }
                    },
                    y: {
                        stacked: true,
                        beginAtZero: true,
                        title: { display: true, text: 'Rides per Week' },
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: {
                            stepSize: 1
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
